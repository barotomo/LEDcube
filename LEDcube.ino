// LED CUBE 5*5*5

//#define RCLK_LATCH    (2)   // オレンジ_黄色 latchPin
//#define SRCLK_CLOCK   (3)   // 青_オレンジ clockPin
//#define SER_DATA     (4)   // 緑_赤 datapin

// ピンの設定
int dataPin     = 4;
int clockPin    = 3;
int latchPin    = 2;
int masterClear = 10; // RST

int layerPin[5] = {5, 6, 7, 8, 9};

// 8bitの信号
byte cube[5][8] = {
  // Layer 1
  {0b00000000,  // Row 1
   0b00000000,  // Row 2
   0b00000000,  // Row 3
   0b00000000,  // Row 4
   0b00000000,  // Row 5
   0b00000000,  // Row 6
   0b00000000,  // Row 7
   0b00000000}, // Row 8


  {0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000},

  {0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000,
   0b00000000},

   {0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000},

   {0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000,
    0b00000000},
};

int rowIndex = 0;
int layerIndex = 0;

void fill_cube(byte b) {
  int x , y;
  for (x=0; x<5; x++) {
    for (y=3; y < 8; y++) {
      cube[x][y] = b;
    }
  }
}

// 全てのledを消灯
void allOff() {
  digitalWrite(masterClear, LOW);
  delay(1);
  digitalWrite(masterClear, HIGH);
  for( int i= 0; i<5; i++) {
    digitalWrite(layerPin[i], LOW);
  }
}

// 層ごとに点灯
void layerOn(int layer_num) {
  digitalWrite(layerPin[layer_num], LOW);
  delay(1);
  digitalWrite(layerPin[layer_num], HIGH);
}

// 層ごとに消灯
void layerOff(int layer_num) {
  digitalWrite(layerPin[layer_num], HIGH);
  delay(1);
  digitalWrite(layerPin[layer_num], LOW);
}

//===== 数字 ===================================================================================================================================
void number0(){
  for (int y=3;y < 8; y++) {
    none();
    cube[4][y] = 0b00011100;
    cube[3][y] = 0b00100010;
    cube[2][y] = 0b00100010;
    cube[1][y] = 0b00100010;
    cube[0][y] = 0b00011100;
    draw();
  }
}
void number1(){
  for (int y=3;y < 8; y++) {
    none();
    cube[4][y] = 0b00001000;
    cube[3][y] = 0b00011000;
    cube[2][y] = 0b00001000;
    cube[1][y] = 0b00001000;
    cube[0][y] = 0b00011100;
    draw();
  }
}
void number2(){
  for (int y=3;y < 8; y++) {
    none();
    cube[4][y] = 0b00011100;
    cube[3][y] = 0b00100010;
    cube[2][y] = 0b00001100;
    cube[1][y] = 0b00010000;
    cube[0][y] = 0b00111110;
    draw();
  }
}
void number3(){
  for (int y=3;y < 8; y++) {
    none();
    cube[4][y] = 0b00111100;
    cube[3][y] = 0b00000010;
    cube[2][y] = 0b00001100;
    cube[1][y] = 0b00100010;
    cube[0][y] = 0b00011100;
    draw();
  }
}
void number4(int y){
  cube[4][y] = 0b00100100;
  cube[3][y] = 0b00100100;
  cube[2][y] = 0b00111110;
  cube[1][y] = 0b00000100;
  cube[0][y] = 0b00000100;
}
void number5(int y){
  cube[4][y] = 0b00111110;
  cube[3][y] = 0b00100000;
  cube[2][y] = 0b00111100;
  cube[1][y] = 0b00000010;
  cube[0][y] = 0b00111100;
}
void number6(int y){
  cube[4][y] = 0b00011100;
  cube[3][y] = 0b00100000;
  cube[2][y] = 0b00111100;
  cube[1][y] = 0b00100010;
  cube[0][y] = 0b00011100;
}
void number7(int y){
  cube[4][y] = 0b00011100;
  cube[3][y] = 0b00010100;
  cube[2][y] = 0b00000100;
  cube[1][y] = 0b00000100;
  cube[0][y] = 0b00000100;
}
void number8(int y){
  cube[4][y] = 0b00011100;
  cube[3][y] = 0b00100010;
  cube[2][y] = 0b00011100;
  cube[1][y] = 0b00100010;
  cube[0][y] = 0b00011100;
}
void number9(int y){
  cube[4][y] = 0b00011100;
  cube[3][y] = 0b00100010;
  cube[2][y] = 0b00011100;
  cube[1][y] = 0b00000010;
  cube[0][y] = 0b00111100;
}

//=====box_zoom_1===================================================================================================================================
void box_1(){
  cube[0][3] = 0b00111110; cube[1][3] = 0b00100010; cube[2][3] = 0b00100010; cube[3][3] = 0b00100010; cube[4][3] = 0b00111110;
  cube[0][4] = 0b00100010; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00100010;
  cube[0][5] = 0b00100010; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00100010;
  cube[0][6] = 0b00100010; cube[1][6] = 0b00000000; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00100010;
  cube[0][7] = 0b00111110; cube[1][7] = 0b00100010; cube[2][7] = 0b00100010; cube[3][7] = 0b00100010; cube[4][7] = 0b00111110;
}

void box_2(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00011100; cube[2][4] = 0b00010100; cube[3][4] = 0b00011100; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00000000; cube[1][5] = 0b00010100; cube[2][5] = 0b00000000; cube[3][5] = 0b00010100; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00000000; cube[1][6] = 0b00011100; cube[2][6] = 0b00010100; cube[3][6] = 0b00011100; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00000000; cube[1][7] = 0b00000000; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}

void box_3(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00000000; cube[1][5] = 0b00000000; cube[2][5] = 0b00001000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00000000; cube[1][6] = 0b00000000; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00000000; cube[1][7] = 0b00000000; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
//===========================================================================================================================================

//======box_zoom_2===========================================================================================================================
void box_4(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00011110; cube[1][4] = 0b00010010; cube[2][4] = 0b00010010; cube[3][4] = 0b00011110; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00010010; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00010010; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00010010; cube[1][6] = 0b00000000; cube[2][6] = 0b00000000; cube[3][6] = 0b00010010; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00011110; cube[1][7] = 0b00010010; cube[2][7] = 0b00010010; cube[3][7] = 0b00011110; cube[4][7] = 0b00000000;
}

void box_5(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00001110; cube[1][5] = 0b00001010; cube[2][5] = 0b00001110; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00001010; cube[1][6] = 0b00000000; cube[2][6] = 0b00001010; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00001110; cube[1][7] = 0b00001010; cube[2][7] = 0b00001110; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}

void box_6(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00000000; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00000110; cube[1][6] = 0b00000110; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00000110; cube[1][7] = 0b00000110; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}

void box_7(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00000000; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00000000; cube[1][6] = 0b00000000; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00000010; cube[1][7] = 0b00000000; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
//===========================================================================================================================================

//=======box_zoom_3===========================================================================================================================
void box_8(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00111100; cube[1][4] = 0b00100100; cube[2][4] = 0b00100010; cube[3][4] = 0b00111100; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00100100; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00100100; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00100100; cube[1][6] = 0b00000000; cube[2][6] = 0b00000000; cube[3][6] = 0b00100100; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00111100; cube[1][7] = 0b00100100; cube[2][7] = 0b00100100; cube[3][7] = 0b00111100; cube[4][7] = 0b00000000;
}
void box_9(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00111000; cube[1][5] = 0b00101000; cube[2][5] = 0b00111000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00101000; cube[1][6] = 0b00000000; cube[2][6] = 0b00101000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00111000; cube[1][7] = 0b00101000; cube[2][7] = 0b00111000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void box_10(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00000000; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00110000; cube[1][6] = 0b00110000; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00110000; cube[1][7] = 0b00110000; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void box_11(){
  cube[0][3] = 0b00000000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00000000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00000000; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00000000; cube[1][6] = 0b00000000; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00100000; cube[1][7] = 0b00000000; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
//===========================================================================================================================================

//=========wave()==============================================================================================================================
void wave_1(){
  cube[0][3] = 0b00100000; cube[1][3] = 0b00000000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00100000; cube[1][4] = 0b00000000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00100000; cube[1][5] = 0b00000000; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00100000; cube[1][6] = 0b00000000; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00100000; cube[1][7] = 0b00000000; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void wave_2(){
  cube[0][3] = 0b00110000; cube[1][3] = 0b00100000; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00110000; cube[1][4] = 0b00100000; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00110000; cube[1][5] = 0b00100000; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00110000; cube[1][6] = 0b00100000; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00110000; cube[1][7] = 0b00100000; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void wave_3(){
  cube[0][3] = 0b00111000; cube[1][3] = 0b00110000; cube[2][3] = 0b00100000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00111000; cube[1][4] = 0b00110000; cube[2][4] = 0b00100000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00111000; cube[1][5] = 0b00110000; cube[2][5] = 0b00100000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00111000; cube[1][6] = 0b00110000; cube[2][6] = 0b00100000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00111000; cube[1][7] = 0b00110000; cube[2][7] = 0b00100000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void wave_4(){
  cube[0][3] = 0b00111100; cube[1][3] = 0b00111000; cube[2][3] = 0b00110000; cube[3][3] = 0b00100000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00111100; cube[1][4] = 0b00111000; cube[2][4] = 0b00110000; cube[3][4] = 0b00100000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00111100; cube[1][5] = 0b00111000; cube[2][5] = 0b00110000; cube[3][5] = 0b00100000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00111100; cube[1][6] = 0b00111000; cube[2][6] = 0b00110000; cube[3][6] = 0b00100000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00111100; cube[1][7] = 0b00111000; cube[2][7] = 0b00110000; cube[3][7] = 0b00100000; cube[4][7] = 0b00000000;
}
void wave_5(){
  cube[0][3] = 0b00111110; cube[1][3] = 0b00111100; cube[2][3] = 0b00111000; cube[3][3] = 0b00110000; cube[4][3] = 0b00100000;
  cube[0][4] = 0b00111110; cube[1][4] = 0b00111100; cube[2][4] = 0b00111000; cube[3][4] = 0b00110000; cube[4][4] = 0b00100000;
  cube[0][5] = 0b00111110; cube[1][5] = 0b00111100; cube[2][5] = 0b00111000; cube[3][5] = 0b00110000; cube[4][5] = 0b00100000;
  cube[0][6] = 0b00111110; cube[1][6] = 0b00111100; cube[2][6] = 0b00111000; cube[3][6] = 0b00110000; cube[4][6] = 0b00100000;
  cube[0][7] = 0b00111110; cube[1][7] = 0b00111100; cube[2][7] = 0b00111000; cube[3][7] = 0b00110000; cube[4][7] = 0b00100000;
}

void wave_6(){
  cube[0][3] = 0b00111110; cube[1][3] = 0b00111110; cube[2][3] = 0b00111100; cube[3][3] = 0b00111000; cube[4][3] = 0b00010000;
  cube[0][4] = 0b00111110; cube[1][4] = 0b00111110; cube[2][4] = 0b00111100; cube[3][4] = 0b00111000; cube[4][4] = 0b00010000;
  cube[0][5] = 0b00111110; cube[1][5] = 0b00111110; cube[2][5] = 0b00111100; cube[3][5] = 0b00111000; cube[4][5] = 0b00010000;
  cube[0][6] = 0b00111110; cube[1][6] = 0b00111110; cube[2][6] = 0b00111100; cube[3][6] = 0b00111000; cube[4][6] = 0b00010000;
  cube[0][7] = 0b00111110; cube[1][7] = 0b00111110; cube[2][7] = 0b00111100; cube[3][7] = 0b00111000; cube[4][7] = 0b00010000;
}

void wave_7(){
  cube[0][3] = 0b00111110; cube[1][3] = 0b00111110; cube[2][3] = 0b00111110; cube[3][3] = 0b00011100; cube[4][3] = 0b00001000;
  cube[0][4] = 0b00111110; cube[1][4] = 0b00111110; cube[2][4] = 0b00111110; cube[3][4] = 0b00011100; cube[4][4] = 0b00001000;
  cube[0][5] = 0b00111110; cube[1][5] = 0b00111110; cube[2][5] = 0b00111110; cube[3][5] = 0b00011100; cube[4][5] = 0b00001000;
  cube[0][6] = 0b00111110; cube[1][6] = 0b00111110; cube[2][6] = 0b00111110; cube[3][6] = 0b00011100; cube[4][6] = 0b00001000;
  cube[0][7] = 0b00111110; cube[1][7] = 0b00111110; cube[2][7] = 0b00111110; cube[3][7] = 0b00011100; cube[4][7] = 0b00001000;
}

void wave_8(){
  cube[0][3] = 0b00111110; cube[1][3] = 0b00111110; cube[2][3] = 0b00011110; cube[3][3] = 0b00001110; cube[4][3] = 0b00000100;
  cube[0][4] = 0b00111110; cube[1][4] = 0b00111110; cube[2][4] = 0b00011110; cube[3][4] = 0b00001110; cube[4][4] = 0b00000100;
  cube[0][5] = 0b00111110; cube[1][5] = 0b00111110; cube[2][5] = 0b00011110; cube[3][5] = 0b00001110; cube[4][5] = 0b00000100;
  cube[0][6] = 0b00111110; cube[1][6] = 0b00111110; cube[2][6] = 0b00011110; cube[3][6] = 0b00001110; cube[4][6] = 0b00000100;
  cube[0][7] = 0b00111110; cube[1][7] = 0b00111110; cube[2][7] = 0b00011110; cube[3][7] = 0b00001110; cube[4][7] = 0b00000100;
}

void wave_9(){
  cube[0][3] = 0b00111110; cube[1][3] = 0b00011110; cube[2][3] = 0b00001110; cube[3][3] = 0b00000110; cube[4][3] = 0b00000010;
  cube[0][4] = 0b00111110; cube[1][4] = 0b00011110; cube[2][4] = 0b00001110; cube[3][4] = 0b00000110; cube[4][4] = 0b00000010;
  cube[0][5] = 0b00111110; cube[1][5] = 0b00011110; cube[2][5] = 0b00001110; cube[3][5] = 0b00000110; cube[4][5] = 0b00000010;
  cube[0][6] = 0b00111110; cube[1][6] = 0b00011110; cube[2][6] = 0b00001110; cube[3][6] = 0b00000110; cube[4][6] = 0b00000010;
  cube[0][7] = 0b00111110; cube[1][7] = 0b00011110; cube[2][7] = 0b00001110; cube[3][7] = 0b00000110; cube[4][7] = 0b00000010;
}
void wave_10(){
  cube[0][3] = 0b00011110; cube[1][3] = 0b00001110; cube[2][3] = 0b00000110; cube[3][3] = 0b00000010; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00011110; cube[1][4] = 0b00001110; cube[2][4] = 0b00000110; cube[3][4] = 0b00000010; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00011110; cube[1][5] = 0b00001110; cube[2][5] = 0b00000110; cube[3][5] = 0b00000010; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00011110; cube[1][6] = 0b00001110; cube[2][6] = 0b00000110; cube[3][6] = 0b00000010; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00011110; cube[1][7] = 0b00001110; cube[2][7] = 0b00000110; cube[3][7] = 0b00000010; cube[4][7] = 0b00000000;
}
void wave_11(){
  cube[0][3] = 0b00101110; cube[1][3] = 0b00000110; cube[2][3] = 0b00000010; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00101110; cube[1][4] = 0b00000110; cube[2][4] = 0b00000010; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00101110; cube[1][5] = 0b00000110; cube[2][5] = 0b00000010; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00101110; cube[1][6] = 0b00000110; cube[2][6] = 0b00000010; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00101110; cube[1][7] = 0b00000110; cube[2][7] = 0b00000010; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void wave_12(){
  cube[0][3] = 0b00110110; cube[1][3] = 0b00100010; cube[2][3] = 0b00000000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00110110; cube[1][4] = 0b00100010; cube[2][4] = 0b00000000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00110110; cube[1][5] = 0b00100010; cube[2][5] = 0b00000000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00110110; cube[1][6] = 0b00100010; cube[2][6] = 0b00000000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00110110; cube[1][7] = 0b00100010; cube[2][7] = 0b00000000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void wave_13(){
  cube[0][3] = 0b00111010; cube[1][3] = 0b00110000; cube[2][3] = 0b00100000; cube[3][3] = 0b00000000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00111010; cube[1][4] = 0b00110000; cube[2][4] = 0b00100000; cube[3][4] = 0b00000000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00111010; cube[1][5] = 0b00110000; cube[2][5] = 0b00100000; cube[3][5] = 0b00000000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00111010; cube[1][6] = 0b00110000; cube[2][6] = 0b00100000; cube[3][6] = 0b00000000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00111010; cube[1][7] = 0b00110000; cube[2][7] = 0b00100000; cube[3][7] = 0b00000000; cube[4][7] = 0b00000000;
}
void wave_14(){
  cube[0][3] = 0b00111100; cube[1][3] = 0b00111000; cube[2][3] = 0b00110000; cube[3][3] = 0b00100000; cube[4][3] = 0b00000000;
  cube[0][4] = 0b00111100; cube[1][4] = 0b00111000; cube[2][4] = 0b00110000; cube[3][4] = 0b00100000; cube[4][4] = 0b00000000;
  cube[0][5] = 0b00111100; cube[1][5] = 0b00111000; cube[2][5] = 0b00110000; cube[3][5] = 0b00100000; cube[4][5] = 0b00000000;
  cube[0][6] = 0b00111100; cube[1][6] = 0b00111000; cube[2][6] = 0b00110000; cube[3][6] = 0b00100000; cube[4][6] = 0b00000000;
  cube[0][7] = 0b00111100; cube[1][7] = 0b00111000; cube[2][7] = 0b00110000; cube[3][7] = 0b00100000; cube[4][7] = 0b00000000;
}
void wave_15(){
  cube[0][3] = 0b00111110; cube[1][3] = 0b00111100; cube[2][3] = 0b00111000; cube[3][3] = 0b00110000; cube[4][3] = 0b00100000;
  cube[0][4] = 0b00111110; cube[1][4] = 0b00111100; cube[2][4] = 0b00111000; cube[3][4] = 0b00110000; cube[4][4] = 0b00100000;
  cube[0][5] = 0b00111110; cube[1][5] = 0b00111100; cube[2][5] = 0b00111000; cube[3][5] = 0b00110000; cube[4][5] = 0b00100000;
  cube[0][6] = 0b00111110; cube[1][6] = 0b00111100; cube[2][6] = 0b00111000; cube[3][6] = 0b00110000; cube[4][6] = 0b00100000;
  cube[0][7] = 0b00111110; cube[1][7] = 0b00111100; cube[2][7] = 0b00111000; cube[3][7] = 0b00110000; cube[4][7] = 0b00100000;
}
//===========================================================================================================================================
// ledの描画
void draw(){
  // p回繰り返す
  for(int p = 0; p < 6; p++){
    layerIndex = 0; // 層の初期化
    for(int q = 0; q < 5; q++){
      rowIndex = 0;  // 列の初期
      digitalWrite(latchPin, LOW);
      for(int t = 0; t < 8; t++){
        shiftOut(dataPin, clockPin, MSBFIRST, cube[layerIndex][rowIndex]);
        rowIndex++;   // 次の列に移る
      }
      layerOff(layerIndex-1);
      layerOn(layerIndex);
      layerIndex++;   // 次の層に移る
      digitalWrite(latchPin, HIGH);
    }
    allOff();
  }
}

void setup()
{
  // ピンのセット
  pinMode(dataPin,     OUTPUT);
  pinMode(clockPin,    OUTPUT);
  pinMode(latchPin,    OUTPUT);
  pinMode(masterClear, OUTPUT);
  for (int i = 0; i < 5; i++) {
    pinMode(layerPin[i], OUTPUT);
  }

  // シフトレジスタのクリア
  digitalWrite(masterClear, LOW);
  delay(10);
  digitalWrite(masterClear, HIGH);

}

//
void loop()
{
  // 3→2→1→0
  number3();
  number2();
  number1();
  number0();

  // boxが大→小→大
  for(int x = 0; x < 3; x++) {
    box_zoom_1();
  }
  for(int x = 0; x < 2; x++) {
    box_zoom_2();
    box_zoom_3();
  }
  // 下から上へ壁がシフト
  for(int x = 4; x >=0; x--) {
    plane(x);
  }
  // 上から下へ壁がシフト
  for(int x = 0; x < 5; x++) {
    plane(x);
  }

  wall_left();
  wall_right();
  allOff();
  wall_back();
  wall_front();

  wave();
}

// 右から左へ壁がシフト
void wall_left()
{
  fill_cube(0b00000010);
  draw();
  fill_cube(0b00000100);
  draw();
  fill_cube(0b00001000);
  draw();
  fill_cube(0b00010000);
  draw();
  fill_cube(0b00100000);
  draw();
}

// 左から右へ壁がシフト
void wall_right()
{
  fill_cube(0b00100000);
  draw();
  fill_cube(0b00010000);
  draw();
  fill_cube(0b00001000);
  draw();
  fill_cube(0b00000100);
  draw();
  fill_cube(0b00000010);
  draw();
}

// 奥から手前へ壁がシフト
void wall_front()
{
  for (int i=3;i < 8; i++) {
    none();
    for (int layer=0; layer < 5; layer++) {
      cube[layer][i] = 0b00111110;
    }
    draw();
  }
}

// 手前から奥へ壁がシフト
void wall_back()
{
  for (int i=7;i >= 3; i--) {
    none();
    for (int layer=0; layer < 5; layer++) {
      cube[layer][i] = 0b00111110;
    }
    draw();
  }
}

// i層を光らせる
void plane(int i)
{
  none();
  for(int x=0;x<8;x++){
    cube[i][x]=0b11111111;
  }
  draw();
}

// box
void box_zoom_1()
{
  box_1();
  draw();
  box_2();
  draw();
  box_3();
  draw();
  box_2();
  draw();
  box_1();
  draw();
}

void box_zoom_2()
{
  box_1();
  draw();
  box_4();
  draw();
  box_5();
  draw();
  box_6();
  draw();
  box_7();
  draw();
  box_6();
  draw();
  box_5();
  draw();
  box_4();
  draw();
  box_1();
  draw();
}

void box_zoom_3()
{
  box_1();
  draw();
  box_8();
  draw();
  box_9();
  draw();
  box_10();
  draw();
  box_11();
  draw();
  box_10();
  draw();
  box_9();
  draw();
  box_8();
  draw();
  box_1();
  draw();
}

// 波
void wave(){
  wave_1();
  draw();
  wave_2();
  draw();
  wave_3();
  draw();
  wave_4();
  draw();
  wave_5();
  draw();
  wave_6();
  draw();
  for (int i=0; i < 5; i++){
    wave_7();
    draw();
    wave_8();
    draw();
    wave_9();
    draw();
    wave_10();
    draw();
    wave_11();
    draw();
    wave_12();
    draw();
    wave_13();
    draw();
    wave_14();
    draw();
    wave_15();
    draw();
  }
}
